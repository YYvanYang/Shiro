import{r as g,g as me,c as be,j as a,_ as ne,s as Y,a as ye}from"./index-P88wRiLI.js";import{u as he,L as we,g as je}from"./image-q5baSP_D.js";import{c as ae,a as _e}from"./helper-WEVHfaFv.js";import{L as de}from"./StyledButton-Vg9OZSLQ.js";import{u as Ne,b as $e,e as Q,c as oe}from"./owner-98pOzH1u.js";import{a as pe,p as ke}from"./provider-Itpk0FV3.js";import{m as Ce}from"./spring-F8CH3gpN.js";import{a as Me,M as Pe,u as Te,c as Se,f as Ee,i as le,m as J}from"./motion-minimal-NU37ajd3.js";import{a as Le}from"./use-is-client-vPKoRLD8.js";import{m as Re}from"./visual-element-WNq1tSDx.js";function q(t){const e=Me(()=>Re(t)),{isStatic:s}=g.useContext(Pe);if(s){const[,i]=g.useState(t);g.useEffect(()=>e.on("change",i),[])}return e}function Ae(t,e){const s=q(e()),i=()=>s.set(e());return i(),Te(()=>{const h=()=>Ee.update(i,!1,!0),u=t.map(m=>m.on("change",h));return()=>{u.forEach(m=>m()),Se(i)}}),s}function Ie(t,...e){const s=t.length;function i(){let h="";for(let u=0;u<s;u++){h+=t[u];const m=e[u];m&&(h+=le(m)?m.get():m)}return h}return Ae(e.filter(le),i)}var T=(t=>(t.GHRepo="gh-repo",t.Self="self",t.MixSpace="mx-space",t.GHCommit="gh-commit",t.GHPr="gh-pr",t.TMDB="tmdb",t))(T||{}),He=function(t,e){e=e||{},e.listUnicodeChar=e.hasOwnProperty("listUnicodeChar")?e.listUnicodeChar:!1,e.stripListLeaders=e.hasOwnProperty("stripListLeaders")?e.stripListLeaders:!0,e.gfm=e.hasOwnProperty("gfm")?e.gfm:!0,e.useImgAltText=e.hasOwnProperty("useImgAltText")?e.useImgAltText:!0,e.abbr=e.hasOwnProperty("abbr")?e.abbr:!1,e.replaceLinksWithURL=e.hasOwnProperty("replaceLinksWithURL")?e.replaceLinksWithURL:!1,e.htmlTagsToSkip=e.hasOwnProperty("htmlTagsToSkip")?e.htmlTagsToSkip:[];var s=t||"";s=s.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{e.stripListLeaders&&(e.listUnicodeChar?s=s.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):s=s.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(s=s.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e.abbr&&(s=s.replace(/\*\[.*\]:.*\n/,"")),s=s.replace(/<[^>]*>/g,"");var i=new RegExp("<[^>]*>","g");if(e.htmlTagsToSkip.length>0){var h="(?!"+e.htmlTagsToSkip.join("|")+")";i=new RegExp("<"+h+"[^>]*>","ig")}s=s.replace(i,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,e.replaceLinksWithURL?"$2":"$1").replace(/^\s{0,3}>\s?/gm,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} #{0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(u){return console.error(u),t}return s};const Oe=me(He);var fe={exports:{}};/**
* Generate unique and beautiful colors from any texts or numbers
 * @version v1.1.1
 * @link https://github.com/dastoori/uniqolor#README
 * @author Rasool Dastoori
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */(function(t,e){(function(s,i){t.exports=i()})(be,function(){function s(o,r){var n=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(n!=null){var l,f,y,x,j=[],N=!0,P=!1;try{if(y=(n=n.call(o)).next,r===0){if(Object(n)!==n)return;N=!1}else for(;!(N=(l=y.call(n)).done)&&(j.push(l.value),j.length!==r);N=!0);}catch(A){P=!0,f=A}finally{try{if(!N&&n.return!=null&&(x=n.return(),Object(x)!==x))return}finally{if(P)throw f}}return j}}function i(o,r){return m(o)||s(o,r)||d(o,r)||c()}function h(o){return u(o)||p(o)||d(o)||b()}function u(o){if(Array.isArray(o))return v(o)}function m(o){if(Array.isArray(o))return o}function p(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function d(o,r){if(o){if(typeof o=="string")return v(o,r);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(o,r)}}function v(o,r){(r==null||r>o.length)&&(r=o.length);for(var n=0,l=new Array(r);n<r;n++)l[n]=o[n];return l}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=[0,100],M=[0,100],$=function(r){return"".concat(r.length===1?"0":"").concat(r)},k=function(r,n,l){return Math.max(Math.min(r,l),n)},C=function(r,n){return Math.floor(Math.random()*(n-r+1))+r},X=function o(r,n,l){for(var f=C(r,n),y=0;y<(l==null?void 0:l.length);y++){var x=l[y];if((x==null?void 0:x.length)===2&&f>=x[0]&&f<=x[1])return o(r,n,l)}return f},F=function(r){for(var n=r.length,l=0,f=0;f<n;f++)l=(l<<5)-l+r.charCodeAt(f),l&=l;return l},V=function(r,n){return typeof n=="number"?n:r%Math.abs(n[1]-n[0])+n[0]},E=function(r,n){return typeof r=="number"?k.apply(void 0,[Math.abs(r)].concat(h(n))):r.length===1||r[0]===r[1]?k.apply(void 0,[Math.abs(r[0])].concat(h(n))):[Math.abs(k.apply(void 0,[r[0]].concat(h(n)))),k.apply(void 0,[Math.abs(r[1])].concat(h(n)))]},S=function(r,n,l){return l<0?l+=1:l>1&&(l-=1),l<1/6?r+(n-r)*6*l:l<1/2?n:l<2/3?r+(n-r)*(2/3-l)*6:r},L=function(r,n,l){var f,y,x;if(r/=360,n/=100,l/=100,n===0)f=y=x=l;else{var j=l<.5?l*(1+n):l+n-l*n,N=2*l-j;f=S(N,j,r+1/3),y=S(N,j,r),x=S(N,j,r-1/3)}return[Math.round(f*255),Math.round(y*255),Math.round(x*255)]},R=function(r,n,l,f){return(r*299+n*587+l*114)/1e3>=f},G=function(r,n,l){return"hsl(".concat(r,", ").concat(n,"%, ").concat(l,"%)")},W=function(r,n,l,f){switch(f){case"rgb":return"rgb(".concat(r,", ").concat(n,", ").concat(l,")");case"hex":default:return"#".concat($(r.toString(16))).concat($(n.toString(16))).concat($(l.toString(16)))}},B=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.format,f=l===void 0?"hex":l,y=n.saturation,x=y===void 0?[50,55]:y,j=n.lightness,N=j===void 0?[50,60]:j,P=n.differencePoint,A=P===void 0?130:P,I=Math.abs(F(String(r))),U=V(I,[0,360]),z=V(I,E(x,w)),H=V(I,E(N,M)),Z=L(U,z,H),O=i(Z,3),D=O[0],se=O[1],re=O[2];return{color:f==="hsl"?G(U,z,H):W(D,se,re,f),isLight:R(D,se,re,A)}};return B.random=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.format,n=r===void 0?"hex":r,l=o.saturation,f=l===void 0?[50,55]:l,y=o.lightness,x=y===void 0?[50,60]:y,j=o.differencePoint,N=j===void 0?130:j,P=o.excludeHue;f=E(f,w),x=E(x,M);var A=P?X(0,359,P):C(0,359),I=typeof f=="number"?f:C.apply(void 0,h(f)),U=typeof x=="number"?x:C.apply(void 0,h(x)),z=L(A,I,U),H=i(z,3),Z=H[0],O=H[1],D=H[2];return{color:n==="hsl"?G(A,I,U):W(Z,O,D,n),isLight:R(Z,O,D,N)}},B})})(fe);var Fe=fe.exports;const ge=me(Fe);function Ve(t){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t,children:a.jsxs("g",{fill:"none",fillRule:"evenodd",children:[a.jsx("path",{d:"M24 0v24H0V0h24ZM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018Zm.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01l-.184-.092Z"}),a.jsx("path",{fill:"currentColor",d:"M13.08 2.868a1.25 1.25 0 0 0-2.16 0L8.126 7.665L2.697 8.842a1.25 1.25 0 0 0-.667 2.054l3.7 4.141l-.56 5.525a1.25 1.25 0 0 0 1.748 1.27L12 19.592l5.082 2.24a1.25 1.25 0 0 0 1.748-1.27l-.56-5.525l3.7-4.14a1.25 1.25 0 0 0-.667-2.055l-5.428-1.176l-2.795-4.798ZM12 17.523c.172 0 .344.035.504.106l4.206 1.854l-.463-4.573a1.25 1.25 0 0 1 .312-.959l3.062-3.427l-4.492-.973a1.25 1.25 0 0 1-.816-.592L12 4.987v12.536Z"})]})})}var ee=(t=>(t.Click="click",t.Interaction="interaction",t.Impression="impression",t))(ee||{});const Ue=t=>{const{shouldTrack:e=!0,...s}=t;return e?a.jsx(ve,{...s}):a.jsx(a.Fragment,{children:t.children})},ve=g.memo(t=>{const[e,s]=g.useState(!1),i=Ne(),{ref:h}=he({initialInView:!1,triggerOnce:!0,onChange(u){var m;if(u){if(s(!0),i)return;document.dispatchEvent(new CustomEvent("impression",{detail:{action:t.action??ee.Impression,label:t.trackerMessage}})),(m=t.onTrack)==null||m.call(t)}}});return a.jsxs(a.Fragment,{children:[t.children,!e&&a.jsx("span",{ref:h})]})});ve.displayName="ImpressionView";const ie=t=>{const{dismissAll:e,dismissTop:s}=pe();return a.jsxs("div",{className:"relative mx-auto mt-[10vh] max-w-full overflow-auto px-2 scrollbar-none lg:max-w-[65rem] lg:p-0",children:[a.jsx(Ue,{action:ee.Impression,trackerMessage:"Peek Modal"}),a.jsx(J.div,{initial:{opacity:.5,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:Ce,className:"scrollbar-none",children:t.children}),a.jsxs(J.div,{initial:!0,exit:{opacity:0},className:"fixed right-2 top-2 flex items-center gap-4",children:[a.jsxs(de,{className:"flex h-8 w-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",href:t.to,onClick:e,children:[a.jsx("i",{className:"icon-[mingcute--fullscreen-2-line] text-lg"}),a.jsx("span",{className:"sr-only",children:"Go to this link"})]}),a.jsxs("button",{className:"flex h-8 w-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",onClick:s,children:[a.jsx("i",{className:"icon-[mingcute--close-line] text-lg"}),a.jsx("span",{className:"sr-only",children:"Dimiss"})]})]})]})},De=()=>{const t=$e(),{present:e}=pe();return g.useCallback(s=>{if(t)return;const i={clickOutsideToDismiss:!0,title:"Preview",modalClassName:"relative mx-auto mt-[10vh] scrollbar-none max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0"};return s.startsWith("/notes/")?(requestAnimationFrame(async()=>{const h=await ne(()=>import("./NotePreview-8nknRkJG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url).then(u=>u.NotePreview);e({...i,CustomModalComponent:()=>a.jsx(ie,{to:s,children:a.jsx(h,{noteId:parseInt(s.split("/").pop())})}),content:()=>null})}),!0):s.startsWith("/posts/")?(requestAnimationFrame(async()=>{const h=await ne(()=>import("./PostPreview-ZOLl6P1E.js"),__vite__mapDeps([29,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,30]),import.meta.url).then(d=>d.PostPreview),u=s.split("/"),m=u.pop(),p=u.pop();e({...i,CustomModalComponent:()=>a.jsx(ie,{to:s,children:a.jsx(h,{category:p,slug:m})}),content:()=>null})}),!0):!1},[t,e])},Ge={typescript:"#2b7489",javascript:"#f1e05a",html:"#e34c26",java:"#b07219",go:"#00add8",vue:"#2c3e50",css:"#563d7c",yaml:"#cb171e",json:"#292929",markdown:"#083fa1",csharp:"#178600","c#":"#178600",c:"#555555",cpp:"#f34b7d","c++":"#f34b7d",python:"#3572a5",lua:"#000080",vimscript:"#199f4b",shell:"#89e051",dockerfile:"#384d54",ruby:"#701516",php:"#4f5d95",lisp:"#3fb68b",kotlin:"#F18E33",rust:"#dea584",dart:"#00B4AB",swift:"#ffac45","objective-c":"#438eff","objective-c++":"#6866fb",r:"#198ce7",matlab:"#e16737",scala:"#c22d40",sql:"#e38c00",perl:"#0298c3"},ce="https://api.github.com",We="/api/gh",te=t=>{const e=t.replace(ce,"");return Promise.any([fetch(ce+e).then(s=>{if(s.status===403)throw new Error("GitHub API rate limit exceeded");return s.json()}),fetch(We+e).then(s=>s.json())])},K=Symbol(),Be=Symbol(),xe=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?g.useEffect:g.useLayoutEffect,ze=Y.unstable_runWithPriority?t=>Y.unstable_runWithPriority(Y.unstable_NormalPriority,t):t=>t();function Ze(t){const e=g.createContext({[K]:{v:{current:t},n:{current:-1},l:new Set,u:i=>i()}});var s;return e[Be]=e.Provider,e.Provider=(s=e.Provider,({value:i,children:h})=>{const u=g.useRef(i),m=g.useRef(0),[p,d]=g.useState(null);p&&(p(i),d(null));const v=g.useRef();if(!v.current){const b=new Set,c=(w,M)=>{ye.unstable_batchedUpdates(()=>{m.current+=1;const $={n:m.current};M!=null&&M.suspense&&($.n*=-1,$.p=new Promise(k=>{d(()=>C=>{$.v=C,delete $.p,k(C)})})),b.forEach(k=>k($)),w()})};v.current={[K]:{v:u,n:m,l:b,u:c}}}return xe(()=>{u.current=i,m.current+=1,ze(()=>{v.current[K].l.forEach(b=>{b({n:m.current,v:i})})})},[i]),g.createElement(s,{value:v.current},h)}),delete e.Consumer,e}function qe(t,e){const s=g.useContext(t)[K],{v:{current:i},n:{current:h},l:u}=s,m=e(i),[p,d]=g.useReducer((v,b)=>{if(!b)return[i,m];if("p"in b)throw b.p;if(b.n===h)return Object.is(v[1],m)?v:[i,m];try{if("v"in b){if(Object.is(v[0],b.v))return v;const c=e(b.v);return Object.is(v[1],c)?v:[b.v,c]}}catch{}return[...v]},[i,m]);return Object.is(p[1],m)||d(),xe(()=>(u.add(d),()=>{u.delete(d)}),[u]),p[1]}const Ke={tmdb:!1},Xe=Ze(Ke),Ye=t=>qe(Xe,e=>e[t]),Je="_contents_1l4wo_25",Qe="_title_1l4wo_34",et="_desc_1l4wo_46",tt="_image_1l4wo_56",st="_skeleton_1l4wo_66",rt="_error_1l4wo_94",_={"card-grid":"_card-grid_1l4wo_1",contents:Je,title:Qe,desc:et,image:tt,skeleton:st,error:rt},yt=t=>Le()?a.jsx(we,{placeholder:a.jsx(at,{}),children:a.jsx(nt,{...t})}):null,nt=t=>{const{id:e,source:s=T.Self,className:i,fallbackUrl:h}=t,[u,m]=g.useState(!0),[p,d]=g.useState(!1),[v,b]=g.useState(h||"javascript:;"),[c,w]=g.useState(),M=De(),$=g.useCallback(async r=>{M(v)&&ke(r)},[v]),k=Ye("tmdb"),C=g.useCallback((r,n)=>{const l={[T.MixSpace]:ue,[T.GHRepo]:ot,[T.GHCommit]:lt,[T.GHPr]:it,[T.Self]:ue};k&&(l[T.TMDB]=ct);const f=l[r];if(!f)return{isValid:!1,fetchFn:null};const y=f.isValid(n);return{isValid:y,fetchFn:y?f.fetch:null}},[k]),{isValid:X,fetchFn:F}=g.useMemo(()=>C(s,e),[s,e]),V=g.useCallback(async()=>{F&&(m(!0),await F(e,w,b).catch(r=>{console.log("fetch card info error: ",r),d(!0)}),m(!1))},[F,e]),{ref:E}=he({triggerOnce:!0,onChange(r){r&&V()}}),S=q(0),L=q(0),R=q(0),G=g.useCallback(({clientX:r,clientY:n,currentTarget:l})=>{const f=l.getBoundingClientRect();S.set(r-f.left),L.set(n-f.top),R.set(Math.sqrt(f.width**2+f.height**2)*1.3)},[S,L,R]),W=Ie`radial-gradient(${R}px circle at ${S}px ${L}px, var(--spotlight-color) 0%, transparent 65%)`;if(!X)return null;const B=s==="self"?de:"a",o=(c==null?void 0:c.classNames)||{};return a.jsxs(B,{href:v,target:s!=="self"?"_blank":"_self",ref:E,className:ae(_["card-grid"],(u||p)&&_.skeleton,p&&_.error,"group",i,o.cardRoot),style:{borderColor:c!=null&&c.color?`${c.color}30`:""},onClick:$,onMouseMove:G,children:[(c==null?void 0:c.color)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundColor:c==null?void 0:c.color,opacity:.06}}),a.jsx(J.div,{layout:!0,className:"absolute inset-0 z-0 opacity-0 duration-500 group-hover:opacity-100",style:{"--spotlight-color":`${c==null?void 0:c.color}50`,background:W}})]}),a.jsxs("span",{className:_.contents,children:[a.jsx("span",{className:_.title,children:c==null?void 0:c.title}),a.jsx("span",{className:_.desc,children:c==null?void 0:c.desc})]}),(u||(c==null?void 0:c.image))&&a.jsx("span",{className:ae(_.image,o.image),"data-image":(c==null?void 0:c.image)||"",style:{backgroundImage:c!=null&&c.image?`url(${c.image})`:void 0}})]})},at=()=>a.jsxs("span",{className:_e(_["card-grid"],_.skeleton),children:[a.jsxs("span",{className:_.contents,children:[a.jsx("span",{className:_.title}),a.jsx("span",{className:_.desc})]}),a.jsx("span",{className:_.image})]}),ot={isValid:t=>{const e=t.split("/");return e.length===2&&e[0].length>0&&e[1].length>0},fetch:async(t,e,s)=>{var u;const[i,h]=t.split("/");try{const m=await te(`https://api.github.com/repos/${i}/${h}`),p=Q(m);e({title:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1",children:p.name}),a.jsx("span",{className:"flex-shrink-0 self-end justify-self-end",children:p.stargazersCount>0&&a.jsxs("span",{className:"inline-flex flex-shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[a.jsx("i",{className:"icon-[mingcute--star-line]"}),a.jsx("span",{className:"font-sans font-medium",children:p.stargazersCount})]})})]}),desc:p.description,image:p.owner.avatarUrl,color:Ge[(u=p.language)==null?void 0:u.toLowerCase()]}),s(p.htmlUrl)}catch(m){throw console.error("Error fetching GitHub data:",m),m}}},lt={isValid:t=>{const e=t.split("/");return e.length===4&&e.every(s=>s.length>0)&&e[2]==="commit"},fetch:async(t,e,s)=>{var m;const[i,h,,u]=t.split("/");try{const p=await te(`https://api.github.com/repos/${i}/${h}/commits/${u}`),d=Q(p);e({title:a.jsx("span",{className:"font-normal",children:d.commit.message.replace(/Signed-off-by:.+/,"")}),desc:a.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[a.jsxs("span",{className:"text-uk-green-light",children:["+",d.stats.additions]}),a.jsxs("span",{className:"text-uk-red-light",children:["-",d.stats.deletions]}),a.jsx("span",{className:"text-sm",children:d.sha.slice(0,7)}),a.jsxs("span",{className:"text-sm opacity-80",children:[i,"/",h]})]}),image:(m=d.author)==null?void 0:m.avatarUrl}),s(`https://github.com/${i}/${h}/commit/${u}`)}catch(p){throw console.error("Error fetching GitHub commit data:",p),p}}},it={isValid:t=>{const e=t.split("/");return e.length===3&&e.every(s=>s.length>0)},fetch:async(t,e,s)=>{const[i,h,,u]=t.split("/");try{const m=await te(`https://api.github.com/repos/${i}/${h}/pulls/${u}`),p=Q(m);e({title:`PR: ${p.title}`,desc:a.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[a.jsxs("span",{className:"text-uk-green-light",children:["+",p.additions]}),a.jsxs("span",{className:"text-uk-red-light",children:["-",p.deletions]}),a.jsxs("span",{className:"text-sm opacity-80",children:[i,"/",h]})]}),image:p.user.avatarUrl}),s(p.htmlUrl)}catch(m){throw console.error("Error fetching GitHub PR data:",m),m}}},ue={isValid:t=>{const[e,...s]=t.split("/");return e!=="posts"&&e!=="notes"?!1:e==="posts"?s.length===2:s.length===1},fetch:async(t,e,s)=>{var u,m,p;const[i,...h]=t.split("/");try{let d={title:"",text:""};if(i==="posts"){const[c,w]=h;d=await oe.post.getPost(c,w),s(`/posts/${c}/${w}`)}else if(i==="notes"){const[c]=h;d=(await oe.note.getNoteById(+c)).data,s(`/notes/${c}`)}const v=d.cover||((u=d.meta)==null?void 0:u.cover);let b="";if(v){const c=new Image;c.src=v,c.crossOrigin="Anonymous",c.onload=()=>{e(w=>(w==null?void 0:w.title)!==d.title?w:{...w,color:je(c)})}}else b=ge(d.title,{saturation:[30,35],lightness:[60,70]}).color;e({title:d.title,desc:d.summary||`${Oe(d.text).slice(0,50)}...`,image:v||((p=(m=d.images)==null?void 0:m[0])==null?void 0:p.src),color:b})}catch(d){throw console.error("Error fetching self data:",d),d}}},ct={isValid(t){const[e,s]=t.split("/");return["tv","movie"].includes(e)&&s.length>0},async fetch(t,e,s){const[i,h]=t.split("/");e({classNames:{cardRoot:"!w-full"}});const u=await fetch(`/api/tmdb/${i}/${h}?language=zh-CN`).then(d=>d.json()).catch(d=>{throw console.error("Error fetching TMDB data:",d),d}),m=i==="tv"?u.name:u.title,p=i==="tv"?u.original_name:u.original_title;e({title:a.jsxs("span",{className:"flex flex-wrap items-end gap-2",children:[a.jsx("span",{children:m}),m!==p&&a.jsxs("span",{className:"text-sm opacity-70",children:["(",p,")"]}),a.jsxs("span",{className:"inline-flex flex-shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[a.jsx(Ve,{}),a.jsx("span",{className:"font-sans font-medium",children:u.vote_average>0&&u.vote_average.toFixed(1)})]})]}),desc:a.jsx("span",{className:"line-clamp-none overflow-visible whitespace-pre-wrap",children:u.overview}),image:`https://image.tmdb.org/t/p/w500${u.poster_path}`,color:ge(u.name,{saturation:[30,35],lightness:[60,70]}).color,classNames:{image:"self-start !h-[75px] !w-[50px]",cardRoot:"!w-full !flex-row-reverse"}}),u.homepage&&s(u.homepage)}};export{yt as L,Oe as R,T as a,q as b,Ie as c,Ye as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./NotePreview-8nknRkJG.js","./index-P88wRiLI.js","./index-zCxw_m3_.css","./Markdown-4K9gK4A_.js","./helper-WEVHfaFv.js","./FloatPopover-FVJ1zxqB.js","./spring-F8CH3gpN.js","./motion-minimal-NU37ajd3.js","./use-event-callback-ykEQEieu.js","./use-is-client-vPKoRLD8.js","./env-y9k74Ds6.js","./visual-element-WNq1tSDx.js","./Gallery-Gd2RWTai.js","./image-q5baSP_D.js","./utils-4iCGTGJe.js","./index-OVDJ2T7o.js","./use-is-unmounted-hqoYUIkv.js","./Gallery-cCMf-PmV.css","./provider-Itpk0FV3.js","./owner-98pOzH1u.js","./StyledButton-Vg9OZSLQ.js","./SocialSourceLink-rGH5k0oZ.js","./Collapse-YwNajoNI.js","./use-is-dark-kZBK83kY.js","./Markdown-cvonXLiD.css","./utils-XS8-cTWX.js","./customParseFormat-iYYtqqZU.js","./FlexText-FD1MdwLX.js","./NotePreview-aX_R-inV.css","./PostPreview-ZOLl6P1E.js","./PinIconToggle-UgdiNvXQ.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
