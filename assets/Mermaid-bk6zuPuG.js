import{r as t,_ as E,j as s}from"./index-P88wRiLI.js";import{u as w}from"./use-is-dark-kZBK83kY.js";import{u as y,F as L}from"./Gallery-Gd2RWTai.js";import{B as k}from"./CodeBlock-KckCTTAW.js";import"./image-q5baSP_D.js";import"./helper-WEVHfaFv.js";import"./utils-4iCGTGJe.js";import"./index-OVDJ2T7o.js";import"./use-is-unmounted-hqoYUIkv.js";import"./env-y9k74Ds6.js";import"./Markdown-4K9gK4A_.js";import"./FloatPopover-FVJ1zxqB.js";import"./spring-F8CH3gpN.js";import"./motion-minimal-NU37ajd3.js";import"./use-event-callback-ykEQEieu.js";import"./use-is-client-vPKoRLD8.js";import"./visual-element-WNq1tSDx.js";import"./LinkCard-wKDGQ_yb.js";import"./StyledButton-Vg9OZSLQ.js";import"./owner-98pOzH1u.js";import"./provider-Itpk0FV3.js";import"./SocialSourceLink-rGH5k0oZ.js";import"./Collapse-YwNajoNI.js";const ee=n=>{const[x,d]=t.useState(!0),[v,a]=t.useState(""),[c,p]=t.useState(""),[_,u]=t.useState(),[h,l]=t.useState(),f=w();t.useEffect(()=>{E(()=>import("./mermaid.core-4kKHylvX.js").then(r=>r.b4),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url).then(async r=>{r.default.initialize({theme:f?"dark":"default"})})},[f]);const m=t.useId().split(":").join("");t.useEffect(()=>{if(!n.content)return;a(""),d(!0);let r=!1;E(()=>import("./mermaid.core-4kKHylvX.js").then(o=>o.b4),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url).then(async o=>{var g;const b=o.default;let i;try{i=await b.render(`mermaid-${m}`,n.content)}catch(e){(g=document.getElementById(`dmermaid-${m}`))==null||g.remove(),e instanceof Error&&a(e.message),p(""),u(void 0),l(void 0)}if(!r){if(i){p(i.svg);const e=i.svg.match(/viewBox="[^"]*\s([\d.]+)\s([\d.]+)"/);e!=null&&e[1]&&(e!=null&&e[2])&&(u(parseInt(e==null?void 0:e[1])),l(parseInt(e==null?void 0:e[2]))),a("")}return d(!1),()=>{r=!0}}})},[m,n.content]);const{w:S}=y(),j=new TextEncoder().encode(c),I=`data:image/svg+xml;base64,${btoa(String.fromCharCode(...new Uint8Array(j)))}`;return x?s.jsx(k,{children:"Mermaid Loading..."}):c?s.jsx("div",{children:s.jsx(L,{containerWidth:S,src:I,width:_,height:h})}):s.jsx("div",{className:"flex min-h-[50px] items-center justify-center rounded-lg bg-red-100 text-sm",children:v||"Error"})};export{ee as Mermaid};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./mermaid.core-4kKHylvX.js","./index-P88wRiLI.js","./index-zCxw_m3_.css","./owner-98pOzH1u.js","./env-y9k74Ds6.js","./utils-4iCGTGJe.js","./helper-WEVHfaFv.js","./StyledButton-Vg9OZSLQ.js","./index-OVDJ2T7o.js","./motion-minimal-NU37ajd3.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
